---
title: 常用的 Linux 命令
date: 2024-11-19 22:50:00
category:
    - 笔记
tag: 
    - Linux 
    - 命令
    - 技术笔记
description: 记录日常工作中常用的 linux 命令、持续更新
---
# 常用的 Linux 命令
## 常用文本文件目录操作
### ls  查看文件夹包含的文件，可以查看文件权限(包括目录、文件夹、文件权限)
* ls -a 列出目录所有文件，包含以.开始的隐藏文件 
* ls -A 列出除.及..的其它文件
* ls -r 反序排列
* ls -t 以文件修改时间排序
* ls -S 以文件大小排序
* ls -h 以易读大小显示
* ls -l 除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来
```shell
 #列出文件绝对路径 
 ls -a | sed "s:^:`pwd`/:"
```
### cd 命令 进入文件夹
```shell
#切换当前目录至 dirName。
cd [目录名]
# 进入根目录
cd /
# 进入登录用户目录
cd ~
# 进入上一级目录
cd ..
```
### pwd 命令 查看当前目录
```shell
#pwd 命令用于查看当前工作目录路径。
pwd
```
### mkdir 命令 创建文件夹
* mkdir -p 可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后，系统将自动建立好那些尚不在的目录，即一次可以建立多个目录。
* mkdir -m  对新建目录设置存取权限，也可以用 chmod 命令设置;
```shell
# 当前目录下创建 test 文件夹
mkdir test
# /temp 目录下创建 test/t1/t2/t3 的目录
mkdir -p /temp/test/t1/t2/t3 
```
### rm 命令 删除文件
删除一个目录中的一个或多个文件或目录，如果没有使用 -r 选项，则 rm 不会删除目录。如果使用 rm 来删除文件，通常仍可以将该文件恢复原状。
> rm [选项] 文件…
```shell
#删除任何 .log 文件，删除前逐一询问确认
rm -i *.log
#删除 test 子目录及子目录中所有档案删除，并且不用一一确认：
rm -rf test

```
### mv 命令 移动文件/文件夹
> mv [-f | -i | -n] [-hv] source target

> mv [-f | -i | -n] [-v] source ... directory
```shell
#将文件 test.log 重命名为 test1.txt
mv test.log test1.txt
#将文件 log1.txt,log2.txt,log3.txt 移动到根的 test3 目录中
mv llog1.txt log2.txt log3.txt /test3
#将文件 file1 改名为 file2，如果 file2 已经存在，则询问是否覆盖
mv -i log1.txt log2.txt
#移动当前文件夹下的所有文件到上一级目录
mv * ../
```
### cp 命令 复制文件/文件夹
将源文件复制至目标文件，或将多个源文件复制至目标目录。
注意：命令行复制，如果目标文件已经存在会提示是否覆盖，而在 shell 脚本中，如果不加 -i 参数，则不会提示，而是直接覆盖！
* -i 提示
* -r 复制目录及目录内所有项目
* -a 复制的文件与原文件时间一样
```shell
#复制 a.txt 到 test 目录下，保持原文件时间，如果原文件存在提示是否覆盖
cp -ai a.txt test
#为 a.txt 建立一个链接（快捷方式
cp -s a.txt link_a.txt
```

### cat 命令 显示文件/操作
* -b 对非空输出行号
* -n 输出所有行号
```shell
#一次显示整个文件
cat filename
#将几个文件合并为一个文件
cat file1 file2 > file
#把 1.log 的文件内容加上行号后输入 2.log 这个文件里
cat -n 1.log 2.log
#把 1.log 和 2.log 的文件内容加上行号（空白行不加）之后将内容附加到 t.log 里
cat -b 1.log 2.log t.log
```
### more 命令
功能类似于 cat, more 会以一页一页的显示方便使用者逐页阅读，而最**基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示**。
* +n      从笫 n 行开始显示
* -n       定义屏幕大小为n行
* +/pattern 在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示 
* -c       从顶部清屏，然后显示
* -d       提示“Press space to continue，’q’ to quit（按空格键继续，按q键退出）”，禁用响铃功能
* -l        忽略Ctrl+l（换页）字符
* -p       通过清除窗口而不是滚屏来对文件进行换页，与-c选项相似
* -s       把连续的多个空行显示为一行
* -u       把文件内容中的下画线去掉

```text title='常用操作命令‘
Enter    向下 n 行，需要定义。默认为 1 行
Ctrl+F   向下滚动一屏
空格键  向下滚动一屏
Ctrl+B  返回上一屏
=       输出当前行的行号
:f     输出文件名和当前行的行号
V      调用vi编辑器
!命令   调用Shell，并执行命令
q       退出more
```
```shell title='举个栗子'
#显示文件中从第3行起的内容
more +3 text.txt
#在所列出文件目录详细信息，借助管道使每次显示 5 行 按空格显示下 5 行。
ls -l | more -5
```
### less 命令
less 与 more 类似，但使用 less 可以随意浏览文件,而且 less 在查看之前不会加载整个文件。
* -i  忽略搜索时的大小写
* -N  显示每行的行号
* -o  <文件名> 将less 输出的内容在指定文件中保存起来
* -s  显示连续空行为一行
* /字符串：向下搜索“字符串”的功能
* ?字符串：向上搜索“字符串”的功能
* n：重复前一个搜索（与 / 或 ? 有关）
* N：反向重复前一个搜索（与 / 或 ? 有关）
* -x <数字> 将“tab”键显示为规定的数字空格
* b  向后翻一页
* d  向后翻半页
* h  显示帮助界面
* Q  退出less 命令
* u  向前滚动半页
* y  向前滚动一行
* 空格键 滚动一行
* 回车键 滚动一页
* [pagedown]： 向下翻动一页
* [pageup]：   向上翻动一页

```shell title='eg'
#ps 查看进程信息并通过 less 分页显示
ps -aux | less -N
#查看多个文件 可以使用 n 查看下一个，使用 p 查看前一个。
less 1.log 2.log
```
### head 命令
head 用来显示档案的开头至标准输出中，默认 head 命令打印其相应文件的开头 10 行。
> -n<行数> 显示的行数（行数为负数表示从最后向前数）
```shell title='例子'
#显示日志里面的前20 行
head -n 20 1.log  
```
### tail 命令
用于显示指定文件末尾内容,常用查看日志文件。
> -f 循环读取（常用于查看递增的日志文件）
```shell title='例子'
#从末尾第 30 行循环读取逐渐增加的文件内容
tail -30f t.log
```
### which 命令 查看可执行文件的位置。
which 是在 PATH 就是指定的路径中，搜索某个系统命令的位置，并返回第一个搜索结果。使用 which 命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。
> -n 　指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。
```shell title='例子'
# 查看 ls 命令是否存在，执行哪个
which ls
# 查看 cd
which cd（显示不存在，因为 cd 是内建命令，而 which 查找显示是 PATH 中的命令）
```
### whereis 命令 搜索程序
whereis 命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息。whereis 及 locate 都是基于系统内建的数据库进行搜索，因此效率很高，而find则是遍历硬盘查找文件。
> -b   定位可执行文件。

> -m   定位帮助文件。

> -s   定位源代码文件。

> -u   搜索默认路径下除可执行文件、源代码文件、帮助文件以外的其它文件。

```shell
#查找 locate 程序相关文件
whereis locate
#查找 locate 的源码文件
whereis -s locate
```
### find 命令 搜索文件
用于在文件树中查找文件，并作出相应的处理。
```shell title='例子'
#在当前目录查找 以 .log 结尾的文件。 . 代表当前目录
find ./ -name '*.log'

```

## 常用工具命令
### cal命令
cal命令用于显示当前日历，或者指定日期的日历。
> cal(选项)(参数)
* -3：显示临近三个月的日历；
* -y：显示今年的日历。

```shell title='案例'
#查看1996年 12 月份的日历
cal 12 1996
#查看当前月日历
cal
# 查看今年的日历
cal -y
# 显示临近三个月的日历；
cal -3 
```
### date命令


```markdown
> <+时间日期格式>：指定显示时使用的日期时间格式。
%H 小时，24小时制（00~23）
%I 小时，12小时制（01~12）
%k 小时，24小时制（0~23）
%l 小时，12小时制（1~12）
%M 分钟（00~59）
%p 显示出AM或PM
%r 显示时间，12小时制（hh:mm:ss %p）
%s 从1970年1月1日00:00:00到目前经历的秒数
%S 显示秒（00~59）
%T 显示时间，24小时制（hh:mm:ss）
%X 显示时间的格式（%H:%M:%S）
%Z 显示时区，日期域（CST）
%a 星期的简称（Sun~Sat）
%A 星期的全称（Sunday~Saturday）
%h,%b 月的简称（Jan~Dec）
%B 月的全称（January~December）
%c 日期和时间（Tue Nov 20 14:12:58 2012）
%d 一个月的第几天（01~31）
%x,%D 日期（mm/dd/yy）
%j 一年的第几天（001~366）
%m 月份（01~12）
%w 一个星期的第几天（0代表星期天）
%W 一年的第几个星期（00~53，星期一为第一天）
%y 年的最后两个数字（1999则是99）

```
```shell title='案例'
#显示今天是一年中第几天
date +"%j"
#显示星期几
date +"%A"
#显示一个月中的第几天
date +"%d"
#显示一年中的第几个星期
date +"%W"
#显示一个星期中的第几天
date +"%w"
#显示第几个月
date +"%B"
#显示月份 数字
date +"%m"
#指定格式输出时间 2024-11-27 23:47:27
date  +"%Y-%m-%d %H:%M:%S"

```
### AWK 

[AWK 命令](https://man.niaoge.com/awk)





# 相关文档
* [菜鸟教程-Linux 常用命令学习](https://www.runoob.com/w3cnote/linux-common-command-2.html)
* [鸟哥 Linux 命令大全](https://man.niaoge.com/)
